<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/normolize.css">
    <title>Document</title>
    <style>
                .green {
            border-radius: 50%;
            background-color: #48b382;
            position: absolute;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .big {
            /* position: relative;  */
            /* left: 100px; 
            top: 100px;  */
            background-color: #fcca66;
            border-radius: 50%;
        }
        .second {
            background-color: black;
            border-radius: 50%;
            height: 2px;
            position: absolute;
            z-index: 20;
            transform-origin: left;
        }
        .minut {
            background-color: black;
            border-radius: 50%;
            height: 6px;
            position: absolute;
            z-index: 20;
            transform-origin: left;
        }
        .hours {
            background-color: black;
            border-radius: 20%;
            height: 10px;
            position: absolute;
            z-index: 20;
            transform-origin: left;
        }
        .electronic {
            height: 100px;
            position: absolute;
            display: flex;
        }
        .ul {
            display: flex;
            justify-content: space-between;
            flex-direction: row;
            list-style-type: none;
        }
    </style>
</head>
<body>
        
    <div style="position: relative; width: 400px; height: 400px;">
    <div id="box1" style="position: absolute; left: 20%; top: 20%; width: 100px; height: 100px; border-radius: 50%; background-color: red;" draggable="true"></div>
    <div id="box2" style="position: absolute; left: 50%; top: 50%; width: 100px; height: 100px; border-radius: 50%; background-color: blue;" draggable="true"></div>
    </div>
    <div id="dropZone" style="width: 100px; height: 100px; background-color: rgb(145, 175, 116);"></div>

    <div style ="position: relative;" id="field">
    </div>
    <script>
       

        const field = document.getElementById("field");
        // let widthWatch = document.querySelector("input").value; //ширина большого циферблата, от нее все рассчитывается
        let widthWatch = 600; //ширина большого циферблата, от нее все рассчитывается
        const ciferblat = document.createElement("div"); //большой который
        ciferblat.classList.add("big");
        ciferblat.style.width = widthWatch+'px'; //== эт его ширина
        ciferblat.style.height = ciferblat.style.width;  //== она же высота
        field.appendChild(ciferblat);

        function getParam (whatArrow,width,clas) { //== работа со стрелками (не только, раскидывает круги)
            whatArrow.classList.add(clas); //== добавляем класс
            whatArrow.style.width = width+"px"; //== её длинна 45% от ширины циферблата
            field.appendChild(whatArrow); //== апендим
        }


        const numbers = []; //== сюда будуут пушиться 12 положений маленьких циферблатов, их градусы (цикл ниже)
        const cifry = [12,1,2,3,4,5,6,7,8,9,10,11,13,14,15,16,17,18,19,20,21,22] //== это на циферблат добавится
        let roundH = 0;

        for (let i =0; i<22; i++) { 
            numbers.push(roundH);
            roundH +=16.363636;
        }
        dropInBox = (event) => {
            console.log(event.target.id);
            event.target.style.backgroundColor = event.dataTransfer.getData("bgc");
            
            // console.log(itemId)
            event.target.appendChild(dropItem);
        }

        for (let k= 0; k<22; k++) { //== раскидываем циферблат с цифрами
            const smallRound = document.createElement("div");
            smallRound.ondragover = allowDrop;
            // smallRound.ondrop = drop;
            smallRound.addEventListener('drop', dropInBox)
            smallRound.id = "id"+k //== создаем маленький зеленый круг
            getParam(smallRound, widthWatch*0.115, "green"); //== настраиваем
            smallRound.style.height = smallRound.style.width; //==даем высотуу
            // const span = document.createElement("span"); //== создаем ноду, куда будем фицерку вставлять и вписывать в кружок
            // span.appendChild( document.createTextNode(cifry[k]) ) ;
            // span.style.fontSize = widthWatch*0.05+"px" //== динамический шрифт циферок
            // smallRound.appendChild(span); 
            //==дальше пошла херня со слайда D40
            const radius = widthWatch*0.4; //== расстояние от центра циферблата
            const angle=parseFloat(numbers[k])/180*Math.PI; //== на какой угол раскидывать этот кружок
            const redCenterX=ciferblat.offsetLeft+ciferblat.offsetWidth/2; //== ципо центр большого циферблата по Х
            const redCenterY=ciferblat.offsetTop+ciferblat.offsetHeight/2; //== по У
            const greenCenterX=redCenterX+radius*Math.sin(angle); 
            const greenCenterY=redCenterY-radius*Math.cos(angle);
            smallRound.style.left= Math.round(greenCenterX-smallRound.offsetWidth/2)+'px';
            smallRound.style.top= Math.round(greenCenterY-smallRound.offsetHeight/2)+'px';
        }

////======dragdrop======//
        const box1 = document.getElementById("box1");
        const box2 = document.getElementById("box2");


        // for (let i =0; i<22; i++) { 
        //     const dropZone = document.getElementById("field");
        // }
        // const dropZone = document.getElementById("field");
        
        // dropZone.ondragover = allowDrop;

        function allowDrop(event) {
            event.preventDefault()
        }

        // dropZone.ondrop = drop;

        box1.ondragstart = drag;
        box2.ondragstart = drag;

        function drag (event) {
            event.dataTransfer.setData("bgc", event.target.style.backgroundColor);
        }


        // const dropItem = document.createElement("div");
            
            // dropItem.style.width = "100px";
            // dropItem.style.height = "100px";
            // dropItem.style.width = widthWatch*0.115+'px';
            // dropItem.style.height = widthWatch*0.115+'px';

        // function drop (event) {
        //     dropItem.style.backgroundColor = event.dataTransfer.getData("bgc");
        //     // console.log(itemId)
        //     // dropZone.appendChild(dropItem);
        //     zoneId(dropItem)
        // }

        // zoneId = (x) => {

        // }

////======dragdropEND======//


    </script>
</body>
</html>